#!/usr/bin/env ruby
require 'ocr'
def format(entry)
  return entry.value if entry.valid?

  guesses = entry.guesses
  case guesses.size()
  when 0
    "#{entry.value} ILL"
  when 1
    guesses.first
  else
    "#{entry.value} AMB"
  end
end

OCR::OCRFile.new($stdin).entries do |entry|
  puts format(entry)
end
